                                Release Summary

                              asterisk-19.3.0-rc1

                                Date: 2022-03-17

                           <asteriskteam@digium.com>

     ----------------------------------------------------------------------

                               Table of Contents

    1. Summary
    2. Contributors
    3. Closed Issues
    4. Other Changes
    5. Diffstat

     ----------------------------------------------------------------------

                                    Summary

                                 [Back to Top]

   This release is a point release of an existing major version. The changes
   included were made to address problems that have been identified in this
   release series, or are minor, backwards compatible new features or
   improvements. Users should be able to safely upgrade to this version if
   this release series is already in use. Users considering upgrading from a
   previous version are strongly encouraged to review the UPGRADE.txt
   document as well as the CHANGES document for information about upgrading
   to this release series.

   The data in this summary reflects changes that have been made since the
   previous release, asterisk-19.2.0.

     ----------------------------------------------------------------------

                                  Contributors

                                 [Back to Top]

   This table lists the people who have submitted code, those that have
   tested patches, as well as those that reported issues on the issue tracker
   that were resolved in this release. For coders, the number is how many of
   their patches (of any size) were committed into this release. For testers,
   the number is the number of times their name was listed as assisting with
   testing a patch. Finally, for reporters, the number is the number of
   issues that they reported that were affected by commits that went into
   this release.

   Coders                      Testers               Reporters                
   13 Naveen Albert                                  13 N A                   
   5 George Joseph                                   4 Alexei Gradinari       
   4 Alexei Gradinari                                3 Kevin Harwell          
   3 Kevin Harwell                                   1 George Joseph          
   3 Sean Bright                                     1 Mark Petersen          
   1 Kfir Itzhak                                     1 cagdas kopuz           
   1 Asterisk Development Team                       1 Boris P. Korzun        
   1 Mike Bradeen                                    1 Kfir Itzhak            
   1 Joshua C. Colp                                  1 Joshua C. Colp         
   1 Ben Ford                                        1 kwk                    
   1 Mark Petersen                                   1 Napadailo Yaroslav     
   1 Boris P. Korzun           

     ----------------------------------------------------------------------

                                 Closed Issues

                                 [Back to Top]

   This is a list of all issues from the issue tracker that were closed by
   changes that went into this release.

  Security

    Category: pjproject/pjsip

   ASTERISK-29945: pjproject: Security fixes for things
   Reported by: Kevin Harwell
     * [b81db677c9] Kevin Harwell -- AST-2022-006: pjproject - unconstrained
       malformed multipart SIP message
     * [f9cd83ff35] Kevin Harwell -- AST-2022-005: pjproject - undefined
       behavior after freeing a dialog set
     * [ac8de6e31d] Kevin Harwell -- AST-2022-004: pjproject - possible
       integer underflow on STUN message

  New Feature

    Category: Channels/General

   ASTERISK-29840: func_channel: Add LASTCONTEXT and LASTEXTEN fields
   Reported by: N A
     * [ff603d16c7] Naveen Albert -- func_channel: Add lastcontext and
       lastexten.

    Category: Core/ManagerInterface/NewFeature

   ASTERISK-29853: ami: Allow events to be globally disabled
   Reported by: N A
     * [8a94702386] Naveen Albert -- ami: Allow events to be globally
       disabled.

  Bug

    Category: Applications/app_queue

   ASTERISK-29873: [patch] Queue Realtime load
   Reported by: Alexei Gradinari
     * [5f22f586ff] Alexei Gradinari -- app_queue: load queues and members
       from Realtime when needed

    Category: Core/General

   ASTERISK-29365: taskprocessor: Can cause assert at shutdown
   Reported by: Joshua C. Colp
     * [5764414d10] Mike Bradeen -- taskprocessor.c: Prevent crash on
       graceful shutdown

    Category: Core/ManagerInterface

   ASTERISK-18416: [patch] Realtime queue agents unavailable via AMI before a
   call event.
   Reported by: kwk
     * [5f22f586ff] Alexei Gradinari -- app_queue: load queues and members
       from Realtime when needed
   ASTERISK-27597: AMI Queuestatus not working (with realtime queue)
   Reported by: cagdas kopuz
     * [5f22f586ff] Alexei Gradinari -- app_queue: load queues and members
       from Realtime when needed
   ASTERISK-29886: Asterisk AMI sends not-valid XML
   Reported by: Napadailo Yaroslav
     * [b42dd930f4] Sean Bright -- manager.c: Generate valid XML if attribute
       names have leading digits.

    Category: General

   ASTERISK-29923: docs, LICENSE: pbx.digium.com no longer exists
   Reported by: N A
     * [e16fce2251] Naveen Albert -- configs, LICENSE: remove pbx.digium.com.

    Category: Resources/General

   ASTERISK-29871: res_prometheus: Failure to load causes FRACKs
   Reported by: Mark Petersen
     * [97ac3c1385] Mark Petersen -- res_prometheus.c: missing module
       dependency

    Category: Resources/res_config_pgsql

   ASTERISK-29924: res_config_pgsql: omit "unsupported column type 'text'"
   error
   Reported by: Boris P. Korzun
     * [00a7fa985e] Boris P. Korzun -- res_config_pgsql: Add text-type column
       check in require_pgsql()

    Category: Resources/res_pjsip_pubsub

   ASTERISK-29904: RLS: Batched Notifications stop working
   Reported by: Alexei Gradinari
     * [76f90bff75] Alexei Gradinari -- res_pjsip_pubsub: fix Batched
       Notifications stop working

  Improvement

    Category: Applications/General

   ASTERISK-29877: app_mf: Allow reading a maximum number of digits
   Reported by: N A
     * [ba2f780930] Naveen Albert -- app_mf: Add max digits option to
       ReceiveMF.

    Category: Applications/app_mp3

   ASTERISK-29900: app_mp3: Document and warn about https incompatibility
   Reported by: N A
     * [b54060021f] Naveen Albert -- app_mp3: Document and warn about HTTPS
       incompatibility.

    Category: Applications/app_queue

   ASTERISK-29909: app_queue: Add support for withdrawing a call
   Reported by: Kfir Itzhak
     * [5edbc54c54] Kfir Itzhak -- app_queue: Add QueueWithdrawCaller AMI
       action

    Category: Applications/app_voicemail

   ASTERISK-29920: app_voicemail: Warn if trying to manage nonexistent
   mailbox
   Reported by: N A
     * [19481fc1f0] Naveen Albert -- app_voicemail: Emit warning if asking
       for nonexistent mailbox.

    Category: Core/Channels

   ASTERISK-29897: channels: Increase core debug levels for chatty debugs
   Reported by: N A
     * [51146db5fe] Naveen Albert -- channel.c: Clean up debug level 1.

    Category: Core/Portability

   ASTERISK-29353: Qualify jansson 2.14 for asterisk
   Reported by: George Joseph
     * [3d30f68fbc] Joshua C. Colp -- jansson: Update bundled to 2.14
       version.

    Category: Documentation

   ASTERISK-29896: xmldocs: Add since tag
   Reported by: N A
     * [eb77229b53] Naveen Albert -- documentation: Add since tag to xmldocs
       DTD
   ASTERISK-29898: documentation: Add default attributes to documentation
   Reported by: N A
     * [57685c139b] Naveen Albert -- documentation: Adds missing default
       attributes.

    Category: Functions/func_curl

   ASTERISK-29809: curl, stir_shaken: refactor curl code
   Reported by: N A
     * [4cb4a3ed01] Naveen Albert -- res_stir_shaken: refactor utility
       function

    Category: Functions/func_db

   ASTERISK-29925: func_db: Warn about malformed key names
   Reported by: N A
     * [257590b4e2] Naveen Albert -- func_db: Add validity check for key
       names when writing.

    Category: General

   ASTERISK-29861: asterisk.h: add macro for curl user agent
   Reported by: N A
     * [d5c72f35fd] Naveen Albert -- asterisk: Add macro for curl user agent.
   ASTERISK-29866: cli: add core dump information to core show settings
   Reported by: N A
     * [e8f8d84ffd] Naveen Albert -- cli: Add core dump info to core show
       settings.

    Category: Resources/res_pjsip_pubsub

   ASTERISK-29906: [patch] update RLS to reflect the changes to the lists
   Reported by: Alexei Gradinari
     * [49928fee53] Alexei Gradinari -- res_pjsip_pubsub: update RLS to
       reflect the changes to the lists
   ASTERISK-29891: [patch] provide a display name for RLS subscriptions
   Reported by: Alexei Gradinari
     * [e85ee05e9d] Alexei Gradinari -- res_pjsip_pubsub: provide a display
       name for RLS subscriptions

    Category: Resources/res_stir_shaken

   ASTERISK-29809: curl, stir_shaken: refactor curl code
   Reported by: N A
     * [4cb4a3ed01] Naveen Albert -- res_stir_shaken: refactor utility
       function

     ----------------------------------------------------------------------

                      Commits Not Associated with an Issue

                                 [Back to Top]

   This is a list of all changes that went into this release that did not
   reference a JIRA issue.

   +------------------------------------------------------------------------+
   | Revision   | Author               | Summary                            |
   |------------+----------------------+------------------------------------|
   | 96f98908f9 | Asterisk Development | Update CHANGES and UPGRADE.txt for |
   |            | Team                 | 19.3.0                             |
   |------------+----------------------+------------------------------------|
   | 0c07f94c00 | Ben Ford             | AMI: Bump version for 19.3.0.      |
   |------------+----------------------+------------------------------------|
   | 1dc792a312 | George Joseph        | xml.c, config,c: Add stylesheets   |
   |            |                      | and variable list string parsing   |
   |------------+----------------------+------------------------------------|
   | d00108df72 | George Joseph        | xmldoc: Fix issue with xmlstarlet  |
   |            |                      | validation                         |
   |------------+----------------------+------------------------------------|
   | 38df1c35ee | George Joseph        | core: Config and XML tweaks needed |
   |            |                      | for geolocation                    |
   |------------+----------------------+------------------------------------|
   | e29cd99975 | George Joseph        | Makefile: Allow XML documentation  |
   |            |                      | to exist outside source files      |
   |------------+----------------------+------------------------------------|
   | ca18e68470 | George Joseph        | build: Refactor the earlier        |
   |            |                      | "basebranch" commit                |
   |------------+----------------------+------------------------------------|
   | 67eb7c9e85 | Sean Bright          | manager.c: Simplify AMI            |
   |            |                      | ModuleCheck handling               |
   |------------+----------------------+------------------------------------|
   | dfbb547f6a | Sean Bright          | res_pjsip.c: Correct minor typos   |
   |            |                      | in 'realm' documentation.          |
   +------------------------------------------------------------------------+

     ----------------------------------------------------------------------

                                Diffstat Results

                                 [Back to Top]

   This is a summary of the changes to the source code that went into this
   release that was generated using the diffstat utility.

 .lastclean                                                                                  |    1
 .version                                                                                    |    1
 ChangeLog                                                                                   |99885 ----------
 asterisk-19.2.0-summary.html                                                                |  445
 asterisk-19.2.0-summary.txt                                                                 |  887
 b/.gitignore                                                                                |    2
 b/CHANGES                                                                                   |   56
 b/LICENSE                                                                                   |    3
 b/Makefile                                                                                  |   58
 b/UPGRADE.txt                                                                               |   13
 b/apps/app_mf.c                                                                             |   30
 b/apps/app_mp3.c                                                                            |    6
 b/apps/app_queue.c                                                                          |  196
 b/apps/app_reload.c                                                                         |    5
 b/apps/app_voicemail.c                                                                      |   12
 b/build_tools/get_sourceable_makeopts                                                       |   54
 b/build_tools/make_version                                                                  |   33
 b/build_tools/make_xml_documentation                                                        |  249
 b/build_tools/menuselect-deps.in                                                            |    1
 b/configs/samples/extensions.conf.sample                                                    |    9
 b/configs/samples/manager.conf.sample                                                       |   11
 b/configs/samples/pjsip.conf.sample                                                         |   18
 b/configs/samples/prometheus.conf.sample                                                    |    4
 b/configure                                                                                 |  136
 b/configure.ac                                                                              |    6
 b/contrib/ast-db-manage/config/versions/8f72185e437f_res_pjsip_pubsub_add_resource_list_.py |   29
 b/doc/appdocsxml.dtd                                                                        |   14
 b/funcs/func_channel.c                                                                      |   10
 b/funcs/func_curl.c                                                                         |    4
 b/funcs/func_db.c                                                                           |    8
 b/include/asterisk.h                                                                        |    2
 b/include/asterisk/channel.h                                                                |    2
 b/include/asterisk/config.h                                                                 |   55
 b/include/asterisk/file.h                                                                   |   17
 b/include/asterisk/manager.h                                                                |    2
 b/include/asterisk/res_pjsip_pubsub.h                                                       |   11
 b/include/asterisk/xml.h                                                                    |  108
 b/main/asterisk.c                                                                           |   39
 b/main/audiohook.c                                                                          |   10
 b/main/cdr.c                                                                                |    8
 b/main/channel.c                                                                            |    4
 b/main/channel_internal_api.c                                                               |   18
 b/main/config.c                                                                             |   76
 b/main/file.c                                                                               |   20
 b/main/manager.c                                                                            |   84
 b/main/taskprocessor.c                                                                      |   67
 b/main/xml.c                                                                                |  182
 b/makeopts.in                                                                               |    2
 b/res/res_ari.c                                                                             |    4
 b/res/res_config_pgsql.c                                                                    |    4
 b/res/res_http_media_cache.c                                                                |    4
 b/res/res_pjsip.c                                                                           | 3242
 b/res/res_pjsip/pjsip_config.xml                                                            | 2347
 b/res/res_pjsip/pjsip_manager.xml                                                           |  901
 b/res/res_pjsip_exten_state.c                                                               |   24
 b/res/res_pjsip_pubsub.c                                                                    |  150
 b/res/res_prometheus.c                                                                      |    4
 b/res/res_stir_shaken/curl.c                                                                |   43
 b/tests/CI/buildAsterisk.sh                                                                 |    9
 b/tests/CI/installAsterisk.sh                                                               |    9
 b/tests/test_config.c                                                                       |   83
 b/tests/test_res_prometheus.c                                                               |    4
 b/third-party/jansson/jansson-2.14.tar.bz2.md5                                              |    1
 b/third-party/pjproject/patches/0170-stun-integer-underflow.patch                           |   26
 b/third-party/pjproject/patches/0171-dialog-set-free.patch                                  |   76
 contrib/realtime/mysql/mysql_cdr.sql                                                        |   41
 contrib/realtime/mysql/mysql_config.sql                                                     | 1330
 contrib/realtime/mysql/mysql_voicemail.sql                                                  |   35
 contrib/realtime/postgresql/postgresql_cdr.sql                                              |   45
 contrib/realtime/postgresql/postgresql_config.sql                                           | 1442
 contrib/realtime/postgresql/postgresql_voicemail.sql                                        |   39
 third-party/jansson/jansson-2.12.tar.bz2.md5                                                |    1
 72 files changed, 5101 insertions(+), 107656 deletions(-)
